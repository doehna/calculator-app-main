{"mappings":"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","sources":["src/js/code.js","src/js/calculate.js","src/js/localStorage.js","src/js/theme.js","src/js/screen.js"],"sourcesContent":["import { calculateResult } from \"./calculate\";\nimport * as localStorage from \"./localStorage\";\nimport * as theme from './theme'\nimport * as calcScreen from \"./screen\";\n\n//var radioButtonValue = document.querySelectorAll('input[name=\"theme\"]:checked').value;\ndocument.addEventListener('DOMContentLoaded', function () {\n    let screen = document.querySelector('.screen-js');\n    localStorage.clear();\n    theme.setDefaultColor();\n\n    addRadioButtonsClickListeners();\n    addButtonsEventListener(screen);\n    addResetButtonEventListener(screen);\n    addDeleteButtonEventListener(screen);\n    addActionButtonsEventListeners(screen);\n    addEqualButtonEventListener(screen);\n})\n\nfunction addEqualButtonEventListener(screen) {\n    let equalButton = document.querySelector('.equal-button-js');\n\n    equalButton.addEventListener('click', function () {\n        calculateResult(screen);\n        localStorage.clear();\n    })\n}\n\nfunction addActionButtonsEventListeners(screen) {\n    let buttons = document.querySelectorAll('.action-button-js');\n    for (const button of buttons) {\n        button.addEventListener('click', function (e) {\n            calculateResult(screen);\n            localStorage.setAction(e.target.textContent);\n        })\n    }\n}\n\nfunction addButtonsEventListener(screen) {\n    let buttons = document.querySelectorAll('.button-js');\n    for (const button of buttons) {\n        button.addEventListener('click', function () {\n            calcScreen.addCharacter(screen, button);\n        })\n    }\n}\n\nfunction addResetButtonEventListener(screen) {\n    let resetButton = document.querySelector('.reset-button-js');\n\n    resetButton.addEventListener('click', function () {\n        localStorage.clear();\n        screen.innerHTML = '';\n    })\n}\n\nfunction addDeleteButtonEventListener(screen) {\n    let resetButton = document.querySelector('.del-button-js');\n\n    resetButton.addEventListener('click', function () {\n        screen.innerHTML = screen.innerHTML.slice(0, -1);\n        localStorage.setIsSubmitted('false');\n    })\n}\n\nfunction addRadioButtonsClickListeners() {\n    let radioButtons = document.querySelectorAll('input[name=\"theme\"]');\n\n    for (const radioButton of radioButtons) {\n        radioButton.addEventListener('click', function () {\n            theme.changeColor(this.id);\n            theme.setTogglePosition(this.id);\n        });\n    }\n}\n","import * as localStorage from  \"./localStorage\";\n\nfunction calculateResult(screen) {\n    // in case action button was clicked without changing the value\n    let hasChanged = localStorage.getIsSubmitted() === 'false';\n\n    let result = parseFloat(localStorage.getResult());\n    let action = localStorage.getAction();\n    let value = parseFloat(screen.innerHTML);\n\n    value = isNaN(value) ? 0 : value;\n    result = !isNaN(result) && hasChanged ? performOperation(action, result, value) : value;\n\n    localStorage.setIsSubmitted('true');\n    localStorage.setResult(result);\n    screen.innerHTML = countNumberOfIntegerDigits(result) > 12 ? result.toExponential(7) : result;\n}\n\nfunction performOperation(action, result, value) {\n    switch (action) {\n        case '+':\n            result = result + value;\n            break;\n        case '-':\n            result = result - value;\n            break;\n        case 'x':\n            result = result * value;\n            break;\n        case '/':\n            result = value !== 0 ? result / value : 'NOT A NUMBER';\n            break;\n        default:\n            break;\n    }\n    return result;\n}\n\nfunction countNumberOfIntegerDigits(number) {\n    return number.toString().length;\n}\n\nexport { calculateResult }","function clear() {\n    localStorage.setItem('result', '');\n    localStorage.setItem('action', '');\n    localStorage.setItem('isSubmitted', 'true');\n}\n\nexport const getResult = () => { return localStorage.getItem('result')};\n\nexport const getAction = () => { return localStorage.getItem('action')};\n\nexport const getIsSubmitted = () => { return localStorage.getItem('isSubmitted') };\n\nexport const getTheme = () => { return localStorage.getItem('theme') };\n\nexport const setResult = (result) => localStorage.setItem('result', result);\n\nexport const setAction = (action) => localStorage.setItem('action', action);\n\nexport const setIsSubmitted = (isSubmitted) => localStorage.setItem('isSubmitted', isSubmitted);\n\nexport const setTheme = (theme) => localStorage.setItem('theme', theme);\n\nexport { clear };\n\n","import * as localStorage from './localStorage'\n\nfunction setTogglePosition(theme) {\n    let toggleHandle = document.querySelector('.toggle-handle-js');\n\n    switch (theme) {\n        case 'medium':\n            toggleHandle.style.transform = 'translateX(0%)';\n            break;\n        case 'light':\n            toggleHandle.style.transform = 'translateX(100%)';\n            break;\n        case 'dark':\n            toggleHandle.style.transform = 'translateX(200%)';\n            break;\n    }\n}\n\nfunction matchRadioButtonValue(theme) {\n    let radioButtons = document.querySelectorAll('input[name=\"theme\"]');\n\n    for (const radioButton of radioButtons) {\n        if (radioButton.value === theme) {\n            radioButton.checked = true;\n            setTogglePosition(radioButton.value);\n        }\n    }\n}\n\nfunction changeColor(theme) {\n    const html = document.querySelector('html');\n    html.classList.remove(html.classList.value);\n    html.classList.add(theme);\n    localStorage.setTheme(theme);\n}\n\nfunction setDefaultColor() {\n    const defaultTheme = localStorage.getTheme();\n    let theme;\n    if (defaultTheme) {\n        changeColor(defaultTheme);\n        theme = defaultTheme;\n    }\n    else {\n        let browsertThemeLight = matchBrowserPreferences('light');\n        let browsertThemeDark = matchBrowserPreferences('dark');\n        theme = browsertThemeLight ?? browsertThemeDark ?? 'medium';\n    }\n    matchRadioButtonValue(theme);\n    return theme;\n}\n\nfunction matchBrowserPreferences(theme) {\n    if (window.matchMedia && window.matchMedia(`(prefers-color-scheme: ${theme})`).matches) {\n        changeColor(theme);\n        localStorage.setTheme(theme);\n        return theme;\n    }\n    return null;\n}\n\nexport { setDefaultColor, matchRadioButtonValue, setTogglePosition, changeColor }","import * as localStorage from './localStorage'\n\nfunction addCharacter(screen, button) {\n    let value = screen.innerHTML.trim();\n    let isSubmitted = localStorage.getIsSubmitted() === 'true';\n\n    if (isSubmitted) {\n        screen.innerHTML = button.textContent;\n        localStorage.setIsSubmitted('false');\n    }\n    else {\n        let isShorterThen8Char = value.length < 8;\n        let isDot = button.textContent === '.';\n        let isDotInScreen = screen.innerHTML.indexOf('.') >= 0;\n        if (isShorterThen8Char && (!isDot || !isDotInScreen)) {\n            screen.innerHTML = screen.innerHTML + button.textContent;\n        }\n    }\n}\n\nexport { addCharacter }"],"names":[],"version":3,"file":"index.4a5ed3dc.js.map"}